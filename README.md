# HomeTask4Iasa_Kosyk-Maksym-KI-32
1. Архітектура (Головна відмінність)
Старий код (Parallel.For + Interlocked): Використовував спільний ресурс (totalSteps). Щоб уникнути помилок при запису, використовувався Interlocked.Add — це атомарна операція, яка є формою синхронізації ("м'яке блокування" на рівні процесора).Новий код (Task<long>): Використовує підхід "Shared Nothing" (нічого спільного). Потоки працюють абсолютно ізольовано у своїй пам'яті. Збирання результату відбувається послідовно в Main після того, як всі "важкі" обчислення завершено. Це і є академічно правильний підхід для уникання синхронізації.

2. Швидкість обчислення (Прогноз)
Новий код може бути трохи повільнішим або таким самим, як старий.
Чому?Parallel.For (старий код) має вбудований розумний "балансувальник навантаження" (Work Stealing). Якщо один потік отримав легкі числа і закінчив швидко, він може "вкрасти" частину роботи в іншого потоку.Ручний поділ на блоки (новий код) є жорстким. Якщо першому потоку попадуться числа, які дуже довго зводяться до 1, а другому — дуже легкі, то другий потік закінчить роботу і буде простоювати, чекаючи на перший. Час виконання буде дорівнювати часу найповільнішого потоку.

3. Висновок
У новій реалізації ми позбулися класу Interlocked та конкуренції за спільну змінну totalSteps. Кожен потік обчислює свій результат незалежно і повертає його (return). Це зменшує ймовірність помилок (race conditions), але вимагає ручного розподілу навантаження між ядрами."
